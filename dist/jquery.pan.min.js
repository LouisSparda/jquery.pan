/*@license 
Fullscreen Image Zoom and Pan with Jquery
version 1.0.0

by Samil Hazir (https://github.com/saplumbaga)
Contributions by JM Alarcon (https://github.com/jmalarcon/)

https://github.com/saplumbaga/jquery.pan
 */
jQuery.fn.extend({pan:function(){var panWrapper=document.createElement("div");$(panWrapper).addClass("panWrapper");var panImg=document.createElement("img");$(panImg).addClass("i").css("position","absolute");var zi=document.createElement("a");$(zi).addClass("controls in"),$(panWrapper).append(zi);var zo=document.createElement("a");$(zo).addClass("controls out"),$(panWrapper).append(zo);var close=document.createElement("a");function panInit(event){event.preventDefault();var panImg=$(".panWrapper img.i"),panWrapper=$(".panWrapper"),w=parseInt(panImg.css("width")),h=parseInt(panImg.css("height")),ml=(parseInt(panImg.css("left")),parseInt(panImg.css("top")),0-(w-$(panWrapper).width())),mt=0-(h-$(panWrapper).height()),scrollOffset=window.pageYOffset||document.documentElement.scrollTop,nl=parseInt(ml*parseInt(event.pageX||event.touches[0].pageX)/parseInt($(panWrapper).width())),nt=parseInt(mt*parseInt((event.pageY||event.touches[0].pageY)-scrollOffset)/parseInt($(panWrapper).height()));parseInt($(panWrapper).width())>w&&parseInt($(panWrapper).height())>h?(panImg.css("left",(parseInt($(panWrapper).width())-w)/2),panImg.css("top",(parseInt($(panWrapper).height())-h)/2)):parseInt($(panWrapper).width())>w?(panImg.css("left",(parseInt($(panWrapper).width())-w)/2),panImg.css("top",nt)):parseInt($(panWrapper).height())>h?(panImg.css("left",nl),panImg.css("top",(parseInt($(panWrapper).height())-h)/2)):(panImg.css("left",nl),panImg.css("top",nt))}$(close).addClass("controls close"),$(panWrapper).append(close),$(panWrapper).append(panImg),$("body").append(panWrapper),$(this).click(function(e){var t=$(this),big=t.attr("data-big");
//If there's no data-big attribute, use the src of the image (sometimes they are simply limited in size with CSS and you just need a zoom of that)
return null==big&&(big=t.attr("src")),$(".panWrapper").show(),$(".panWrapper img.i").css("width","auto").attr("src",big).on("load",function(){panInit(e)}),!1}),$(zi).click(function(e){var panImg=$(".panWrapper img.i");panImg.css("width",parseInt(1.2*parseInt(panImg.css("width")))),panInit(e)}),$(zo).click(function(e){var panImg=$(".panWrapper img.i");panImg.css("width",parseInt(parseInt(panImg.css("width"))/1.2)+1),panInit(e)}),$(close).click(function(e){$(".panWrapper").fadeOut("slow")}),$(panImg).click(function(){$(close).click()}),$(panWrapper).on("mousemove touchmove",function(e){panInit(e)}),$("body").keydown(function(e){27==e.keyCode&&$(close).click()}),$(panWrapper).mousewheel(function(whellEvent){0<whellEvent.deltaY?$(zo).click():$(zi).click(),panInit(whellEvent)})}}),function(){var _addEventListener,support,prefix="";window.addEventListener?_addEventListener="addEventListener":(_addEventListener="attachEvent",prefix="on"),void 0!==document.onmousewheel&&(support="mousewheel");try{WheelEvent("wheel"),support="wheel"}catch(e){}function _addWheelListener(elem,eventName,callback,useCapture){elem[_addEventListener](prefix+eventName,"wheel"==support?callback:function(originalEvent){!originalEvent&&(originalEvent=window.event);var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==originalEvent.type?0:1,deltaX:0,delatZ:0,pageX:originalEvent.pageX,pageY:originalEvent.pageY,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1}};return"mousewheel"==support?(event.deltaY=-.025*originalEvent.wheelDelta,originalEvent.wheelDeltaX&&(event.deltaX=-.025*originalEvent.wheelDeltaX)):event.deltaY=originalEvent.detail,callback(event)},useCapture||!1)}support||(support="DOMMouseScroll"),window.addWheelListener=function(elem,callback,useCapture){_addWheelListener(elem,support,callback,useCapture),"DOMMouseScroll"==support&&_addWheelListener(elem,"MozMousePixelScroll",callback,useCapture)},$.fn.mousewheel=function(handler){return this.each(function(){window.addWheelListener(this,handler,!0)})}}(jQuery);
//# sourceMappingURL=jquery.pan.min.js.map